import{S as Q,i as Z,s as x,k as D,l as k,m as G,h as B,n as f,b as L,O as Y,f as V,g as p,t as W,d as $,X as ee,D as te,E as se,F as le,G as ne,v as ie,w as ae,x as re,y as oe,a as q,c as O,p as S,T as A,N as H,B as R}from"./index-67032617.js";const ce=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],T=s=>{let e=0;for(let t=0;t<s.length;t++){const l=s[t],n=ce.indexOf(l);e=e*83+n}return e},N=s=>{let e=s/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},U=s=>{let e=Math.max(0,Math.min(1,s));return e<=.0031308?Math.round(e*12.92*255+.5):Math.round((1.055*Math.pow(e,1/2.4)-.055)*255+.5)},fe=s=>s<0?-1:1,X=(s,e)=>fe(s)*Math.pow(Math.abs(s),e);class J extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}}const ue=s=>{if(!s||s.length<6)throw new J("The blurhash string must be at least 6 characters");const e=T(s[0]),t=Math.floor(e/9)+1,l=e%9+1;if(s.length!==4+2*l*t)throw new J(`blurhash length mismatch: length is ${s.length} but it should be ${4+2*l*t}`)},he=s=>{const e=s>>16,t=s>>8&255,l=s&255;return[N(e),N(t),N(l)]},de=(s,e)=>{const t=Math.floor(s/361),l=Math.floor(s/19)%19,n=s%19;return[X((t-9)/9,2)*e,X((l-9)/9,2)*e,X((n-9)/9,2)*e]},me=(s,e,t,l)=>{ue(s),l=l|1;const n=T(s[0]),o=Math.floor(n/9)+1,a=n%9+1,_=(T(s[1])+1)/166,w=new Array(a*o);for(let d=0;d<w.length;d++)if(d===0){const m=T(s.substring(2,6));w[d]=he(m)}else{const m=T(s.substring(4+d*2,6+d*2));w[d]=de(m,_*l)}const b=e*4,h=new Uint8ClampedArray(b*t);for(let d=0;d<t;d++)for(let m=0;m<e;m++){let E=0,v=0,y=0;for(let i=0;i<o;i++)for(let z=0;z<a;z++){const C=Math.cos(Math.PI*m*z/e)*Math.cos(Math.PI*d*i/t);let I=w[z+i*a];E+=I[0]*C,v+=I[1]*C,y+=I[2]*C}let M=U(E),g=U(v),u=U(y);h[4*m+0+d*b]=M,h[4*m+1+d*b]=g,h[4*m+2+d*b]=u,h[4*m+3+d*b]=255}return h},ge=me;function K(s){let e;const t=s[11].default,l=te(t,s,s[10],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,o){l&&l.m(n,o),e=!0},p(n,o){l&&l.p&&(!e||o&1024)&&se(l,t,n,n[10],e?ne(t,n[10],o,null):le(n[10]),null)},i(n){e||(V(l,n),e=!0)},o(n){W(l,n),e=!1},d(n){l&&l.d(n)}}}function _e(s){let e,t,l,n,o,a=s[3]&&K(s);return{c(){e=D("div"),a&&a.c(),this.h()},l(c){e=k(c,"DIV",{class:!0,style:!0});var _=G(e);a&&a.l(_),_.forEach(B),this.h()},h(){f(e,"class",t="wrapper "+s[2]+" "+s[0]+" svelte-142y8oi"),f(e,"style",s[1])},m(c,_){L(c,e,_),a&&a.m(e,null),l=!0,n||(o=Y(s[4].call(null,e)),n=!0)},p(c,[_]){c[3]?a?(a.p(c,_),_&8&&V(a,1)):(a=K(c),a.c(),V(a,1),a.m(e,null)):a&&(p(),W(a,1,1,()=>{a=null}),$()),(!l||_&5&&t!==(t="wrapper "+c[2]+" "+c[0]+" svelte-142y8oi"))&&f(e,"class",t),(!l||_&2)&&f(e,"style",c[1])},i(c){l||(V(a),l=!0)},o(c){W(a),l=!1},d(c){c&&B(e),a&&a.d(),n=!1,o()}}}function we(s,e){let t,l;return()=>{const n=+new Date;t&&n<t+e?(clearTimeout(l),l=setTimeout(function(){t=n,s()},e)):(t=n,s())}}function be(s,e,t){let{$$slots:l={},$$scope:n}=e;const o=ee();let{offset:a=0}=e,{throttle:c=250}=e,{c:_=""}=e,{style:w=""}=e,{once:b=!0}=e,{threshold:h=1}=e,{disabled:d=!1}=e,{class:m=""}=e,E=d,v=!1,y=!1,M=()=>{};function g(i,z,C){if(E&&!i){o("enter");return}i&&!y&&o("leave"),b&&i&&!y&&M()}function u(i){if(!window||d)return;if(window.IntersectionObserver&&window.IntersectionObserverEntry){const I=new IntersectionObserver(([{isIntersecting:r}])=>{if(v=E,y=r,v&&b&&!r){g(v);return}t(3,E=r),g(v)},{rootMargin:a+"px",threshold:h});return I.observe(i),M=()=>I.unobserve(i),M}function z(){if(!(i.offsetWidth||i.offsetHeight||i.getClientRects().length))return;let I,r;try{({top:I,height:r}=i.getBoundingClientRect())}catch{({top:I,height:r}=defaultBoundingClientRect)}const P=window.innerHeight||document.documentElement.clientHeight;if(v=E,y=I-a<=P&&I+r+a>=0,v&&b&&!isIntersecting){g(v,observer);return}t(3,E=y),g(v)}z();const C=we(z,c);return window.addEventListener("scroll",C),window.addEventListener("resize",C),M=()=>{window.removeEventListener("scroll",C),window.removeEventListener("resize",C)},M}return s.$$set=i=>{"offset"in i&&t(5,a=i.offset),"throttle"in i&&t(6,c=i.throttle),"c"in i&&t(0,_=i.c),"style"in i&&t(1,w=i.style),"once"in i&&t(7,b=i.once),"threshold"in i&&t(8,h=i.threshold),"disabled"in i&&t(9,d=i.disabled),"class"in i&&t(2,m=i.class),"$$scope"in i&&t(10,n=i.$$scope)},[_,w,m,E,u,a,c,b,h,d,n,l]}class ve extends Q{constructor(e){super(),Z(this,e,be,_e,x,{offset:5,throttle:6,c:0,style:1,once:7,threshold:8,disabled:9,class:2})}}function ze(s){let e,t,l;return{c(){e=D("img"),this.h()},l(n){e=k(n,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){f(e,"class",t="placeholder "+s[14]+" svelte-ilz1a1"),A(e.src,l=s[4])||f(e,"src",l),f(e,"alt",s[1]),H(e,"blur",s[8])},m(n,o){L(n,e,o)},p(n,o){o&16384&&t!==(t="placeholder "+n[14]+" svelte-ilz1a1")&&f(e,"class",t),o&16&&!A(e.src,l=n[4])&&f(e,"src",l),o&2&&f(e,"alt",n[1]),o&16640&&H(e,"blur",n[8])},d(n){n&&B(e)}}}function Ce(s){let e,t,l,n,o;return{c(){e=D("canvas"),this.h()},l(a){e=k(a,"CANVAS",{class:!0,width:!0,height:!0}),G(e).forEach(B),this.h()},h(){f(e,"class","placeholder svelte-ilz1a1"),f(e,"width",t=s[16].width),f(e,"height",l=s[16].height)},m(a,c){L(a,e,c),n||(o=Y(s[20].call(null,e)),n=!0)},p(a,c){c&65536&&t!==(t=a[16].width)&&f(e,"width",t),c&65536&&l!==(l=a[16].height)&&f(e,"height",l)},d(a){a&&B(e),n=!1,o()}}}function Ee(s){let e,t,l,n,o,a,c,_,w,b,h,d,m,E,v;function y(u,i){return u[15]?Ce:ze}let M=y(s),g=M(s);return{c(){e=D("div"),t=D("div"),l=D("div"),n=q(),g.c(),o=q(),a=D("picture"),c=D("source"),_=q(),w=D("source"),b=q(),h=D("img"),this.h()},l(u){e=k(u,"DIV",{style:!0,class:!0});var i=G(e);t=k(i,"DIV",{style:!0});var z=G(t);l=k(z,"DIV",{style:!0}),G(l).forEach(B),n=O(z),g.l(z),o=O(z),a=k(z,"PICTURE",{});var C=G(a);c=k(C,"SOURCE",{type:!0,srcset:!0,sizes:!0}),_=O(C),w=k(C,"SOURCE",{srcset:!0,sizes:!0}),b=O(C),h=k(C,"IMG",{src:!0,class:!0,alt:!0,width:!0,height:!0}),C.forEach(B),z.forEach(B),i.forEach(B),this.h()},h(){S(l,"width","100%"),S(l,"padding-bottom",s[7]),f(c,"type","image/webp"),f(c,"srcset",s[6]),f(c,"sizes",s[9]),f(w,"srcset",s[5]),f(w,"sizes",s[9]),A(h.src,d=s[4])||f(h,"src",d),f(h,"class",m="main "+s[0]+" "+s[17]+" svelte-ilz1a1"),f(h,"alt",s[1]),f(h,"width",s[2]),f(h,"height",s[3]),S(t,"position","relative"),S(t,"overflow","hidden"),S(e,"position","relative"),S(e,"width","100%"),f(e,"class","svelte-ilz1a1"),H(e,"loaded",s[18])},m(u,i){L(u,e,i),R(e,t),R(t,l),R(t,n),g.m(t,null),R(t,o),R(t,a),R(a,c),R(a,_),R(a,w),R(a,b),R(a,h),E||(v=Y(s[19].call(null,h)),E=!0)},p(u,i){i&128&&S(l,"padding-bottom",u[7]),M===(M=y(u))&&g?g.p(u,i):(g.d(1),g=M(u),g&&(g.c(),g.m(t,o))),i&64&&f(c,"srcset",u[6]),i&512&&f(c,"sizes",u[9]),i&32&&f(w,"srcset",u[5]),i&512&&f(w,"sizes",u[9]),i&16&&!A(h.src,d=u[4])&&f(h,"src",d),i&131073&&m!==(m="main "+u[0]+" "+u[17]+" svelte-ilz1a1")&&f(h,"class",m),i&2&&f(h,"alt",u[1]),i&4&&f(h,"width",u[2]),i&8&&f(h,"height",u[3]),i&262144&&H(e,"loaded",u[18])},d(u){u&&B(e),g.d(),E=!1,v()}}}function Me(s){let e,t;return e=new ve({props:{class:s[13],style:"min-height: 100px; width: 100%;",once:!0,threshold:s[11],offset:s[10],disabled:!s[12],$$slots:{default:[Ee]},$$scope:{ctx:s}}}),{c(){ie(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p(l,[n]){const o={};n&8192&&(o.class=l[13]),n&2048&&(o.threshold=l[11]),n&1024&&(o.offset=l[10]),n&4096&&(o.disabled=!l[12]),n&2606079&&(o.$$scope={dirty:n,ctx:l}),e.$set(o)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ye(s,e,t){let{c:l=""}=e,{alt:n=""}=e,{width:o=null}=e,{height:a=null}=e,{src:c=""}=e,{srcset:_=""}=e,{srcsetWebp:w=""}=e,{ratio:b="100%"}=e,{blur:h=!0}=e,{sizes:d="(max-width: 1000px) 100vw, 1000px"}=e,{offset:m=0}=e,{threshold:E=1}=e,{lazy:v=!0}=e,{wrapperClass:y=""}=e,{placeholderClass:M=""}=e,{blurhash:g=null}=e,{blurhashSize:u=null}=e,{class:i=""}=e,z=!v;function C(r){r.onload=()=>t(18,z=!0)}function I(r){const P=ge(g,u.width,u.height),F=r.getContext("2d"),j=F.createImageData(u.width,u.height);j.data.set(P),F.putImageData(j,0,0)}return s.$$set=r=>{"c"in r&&t(0,l=r.c),"alt"in r&&t(1,n=r.alt),"width"in r&&t(2,o=r.width),"height"in r&&t(3,a=r.height),"src"in r&&t(4,c=r.src),"srcset"in r&&t(5,_=r.srcset),"srcsetWebp"in r&&t(6,w=r.srcsetWebp),"ratio"in r&&t(7,b=r.ratio),"blur"in r&&t(8,h=r.blur),"sizes"in r&&t(9,d=r.sizes),"offset"in r&&t(10,m=r.offset),"threshold"in r&&t(11,E=r.threshold),"lazy"in r&&t(12,v=r.lazy),"wrapperClass"in r&&t(13,y=r.wrapperClass),"placeholderClass"in r&&t(14,M=r.placeholderClass),"blurhash"in r&&t(15,g=r.blurhash),"blurhashSize"in r&&t(16,u=r.blurhashSize),"class"in r&&t(17,i=r.class)},[l,n,o,a,c,_,w,b,h,d,m,E,v,y,M,g,u,i,z,C,I]}class Re extends Q{constructor(e){super(),Z(this,e,ye,Me,x,{c:0,alt:1,width:2,height:3,src:4,srcset:5,srcsetWebp:6,ratio:7,blur:8,sizes:9,offset:10,threshold:11,lazy:12,wrapperClass:13,placeholderClass:14,blurhash:15,blurhashSize:16,class:17})}}export{Re as I};
